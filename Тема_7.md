# Тема 7. Работа с файлами (ввод, вывод) 
Отчет по Теме #7 выполнил:
- Шашков Владимир Дмитриевич
- ИВТ-22-2

| Задание | Лаб_раб | Сам_раб |
| ------ | ------ | ------ |
| Задание 1 | + | + |
| Задание 2 | + | + |
| Задание 3 | + | + |
| Задание 4 | + | + |
| Задание 5 | + | + |
| Задание 6 | + | 
| Задание 7 | + | 
| Задание 8 | + | 
| Задание 9 | + | 
| Задание 10 | + | 

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

## Лабораторная работа №1
### Составьте текстовый файл и положите его в одну директорию с программой на Python. Текстовый файл должен состоять минимум из двух строк

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L1.7.png)

## Лабораторная работа №2
### Напишите программу, которая выведет только первую строку из вашего файла, при этом используйте конструкцию open()/close()

```python
f = open('file.txt', 'r')
print(f.readline())
f.close()
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L2.7.png)

## Лабораторная работа №3
### Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию open()/close().

```python
f = open('file.txt','r')
print(f.readlines())
f.close()
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L3.7.png)

## Лабораторная работа №4
### Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию with open()

```python 
with open('input.txt') as f:
    print(f.readlines())
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L4.7.png)

## Лабораторная работа №5
### Напишите программу, которая выведет каждую строку из вашего файла отдельно, при этом используйте конструкцию with open()

```python
with open('file.txt') as f:
    for line in f:
        print(line)
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L5.7.png)

## Лабораторная работа №6
### Напишите программу, которая будет добавлять новую строку в ваш файл, а потом выведет полученный файл в консоль. Вывод можно осуществлять любым способом. Обязательно проверьте сам файл, чтобы изменения в нем тоже отображались

```python
with open('file.txt','a+') as f:
    f.write('\n Magos Explorator')

with open('file.txt','r') as f:
    result = f.readlines()
    print(result)
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L6.7_1.png)
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L6.7_2.png)

## Лабораторная работа №7
### Напишите программу, которая перепишет всю информацию, которая была у вас в файле до этого, например напишет любые данные из произвольно вами составленного списка. Также не забудьте проверить что измененная вами информация сохранилась в файле

```python
lines = ['one','two','three']
with open ('file.txt','w') as f:
    for line in lines:
        f.write('\nKogitator ' + line)
    print('Done')
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L7.7_1.png)
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L7.7_2.png)

## Лабораторная работа №8
### Выберите любую папку на своем компьютере, имеющую вложенные директории. Выведите на печать в терминал ее содержимое, как и всех подкаталогов при помощи функции print_docs(directory)

```python
import os
def print_docs(directory):
    for root, dirs, files in os.walk(directory):
        for name in files:
            print(os.path.join(root, name))
print_docs(r'C:\Users\volan\code')
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L8.7.png)

## Лабораторная работа №9
### Документ «input.txt» содержит следующий текст: 
-Приветствие
-Спасибо 
-Извините 
-Пожалуйста 
-До свидания 
-Ты готов?
-Как дела?
-С днем рождения! 
-Удача!
-Я тебя люблю.
Требуется реализовать функцию, которая выводит слово, имеющее максимальную длину (или список слов, если таковых несколько).
Проверьте работоспособность программы на своем наборе данных

```python
def longest_word(file):
    with open(file, encoding = 'utf-8') as f:
        words=f.read().split()
        max_length=len(max(words, key=len))
        for word in words:
            if len(word) == max_length:
                sought_words=word
            
        if len(sought_words) == 1:
            return sought_words[0]
        return sought_words

print(longest_word('file.txt'))
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L9.7.png)

## Лабораторная работа №10
### 10)	Требуется создать csv-файл «rows_300.csv» со следующими столбцами:
•	№ - номер по порядку (от 1 до 300);
•	Секунда – текущая секунда на вашем ПК;
•	Микросекунда – текущая миллисекунда на часах.
Для наглядности на каждой итерации цикла искусственно приостанавливайте скрипт на 0,01 

```python
import csv
import time
import datetime

with open('rows_300.csw', 'w', encoding='utf-8', newline='') as f:
    writer=csv.writer(f)
    writer.writerow(['№','Секунда','Микросекунда'])
    for line in range(1, 301):
        writer.writerow([line, datetime.datetime.now().second, datetime.datetime.now().microsecond])
        time.sleep(0.01)
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L10.7_1.png)
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/L10.7_2.png)

## Самостоятельная работа №1
### Найдите в интернете любую статью (объем статьи не менее 200 слов), скопируйте ее содержимое в файл и напишите программу, которая считает количество слов в текстовом файле и определит самое часто встречающееся слово. Результатом выполнения задачи будет: скриншот файла со статьей, листинг кода, и вывод в консоль, в котором будет указана вся необходимая информация

```python
from collections import Counter
with open('file.txt', 'r', encoding='utf-8') as file:
    text = file.read()
words = text.split()
word_count = len(words)
word_freq = Counter(words)
most_common_word, most_common_count = word_freq.most_common(1)[0]
print(f'Количество слов: {word_count}')
print(f'Самое частое слово: "{most_common_word}" (встречается {most_common_count} раз)')
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S1.7_1.png)
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S1.7_2.png)

## Выводы
1. `with open('file.txt', 'r', encoding='utf-8') as file:`: Для открытия файла используется функция ```open```

## Самостоятельная работа №2
### У вас появилась потребность в ведении книги расходов, посмотрев все существующие варианты вы пришли к выводу что вас ничего не устраивает и нужно все делать самому. Напишите программу для учета расходов. Программа должна позволять вводить информацию о расходах, сохранять ее в файл и выводить существующие данные в консоль. Ввод информации происходит через консоль. Результатом выполнения задачи будет: скриншот файла с учетом расходов, листинг кода, и вывод в консоль, с демонстрацией

```python
inp = input('Введите данные: ')
with open('file.txt','a+') as f:
    f.write('\n'+inp)

with open('file.txt','r') as f:
    result = f.readlines()
    print(result)
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S2.7_1.png)
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S2.7_2.png)

## Выводы
1. ` f.write('\n'+inp)`: Для записи данных в файл используется функция ```write```.

## Самостоятельная работа №3
### Имеется файл input.txt с текстом на латинице. Напишите программу, которая выводит следующую статистику по тексту: количество букв латинского алфавита; число слов; число строк.

```python
with open('input.txt') as f:
	txt = f.read()
	print('Входной файл содержит:')
	print(sum(map(str.isalpha, txt)), 'букв')
	print(len(txt.split()), 'слов')
	print(txt.count('\n') + 1, 'линии')
```

### Результат.
![Меню]([./pic/S3.png](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S3.7_1.png)
![Меню]([./pic/S3.png](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S3.7_2.png)

## Выводы
1. Для подсчёта количества слов в файле можно пословно записать их в массив и вывести размер массива

## Самостоятельная работа №4
### Напишите программу, которая получает на вход предложение, выводит его в терминал, заменяя все запрещенные слова звездочками * (количество звездочек равно количеству букв в слове). Запрещенные слова, разделенные символом пробела, хранятся в текстовом файле input.txt. Все слова в этом файле записаны в нижнем регистре. Программа должна заменить запрещенные слова, где бы они ни встречались, даже в середине другого слова. Замена производится независимо от регистра: если файл input.txt содержит запрещенное слово exam, то слова exam, Exam, ExaM, EXAM и exAm должны быть заменены на ****

```python
with open ('input.txt','r', encoding = 'utf-8') as f:
    ifc = f.read()

with open('pwords.txt', 'r', encoding = 'utf-8') as pwords:
    fwl = pwords.read().split()

def find_substr(line, word):
    ind = []
    t_line = line.lower()
    i = 0
    while i<len(t_line):
        j = t_line.find(word, i)
        if j == -1:
            break
        ind.append(j)
        i = j + len(word)
    return ind

out_content = ifc

for word in fwl:
    ind = find_substr(out_content, word)

    for index in ind:
        out_content = (out_content[:index] + '*' * len(word) + out_content[index+len(word):])

print(out_content)
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S4.7.png)

## Выводы
1. Данная программа ищет индексы вхождения запрещённых слов и по этим индексам, заменяет слова на "*"

## Самостоятельная работа №5
### Самостоятельно придумайте и решите задачу, которая будет взаимодействовать с текстовым файлом

```python
def menshee_word(file):
    with open(file, encoding = 'utf-8') as f:
        words = f.read().split()
        min_length = len(min(words, key = len))
        for word in words:
            if len(word) == min_length:
                sought_words = word
            
        if len(sought_words) == 1:
            return sought_words[0]
        return sought_words

print(menshee_word('file.txt'))
```

### Результат.
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S5.7_1.png)
![Меню](https://github.com/FeugiantMortis/Software-engineering/blob/Тема_7/pic/S5.7_2.png)

## Выводы
1. Данная программа находит самое короткое слово в файле
